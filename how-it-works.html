<!DOCTYPE html>
<html class="no-js" lang="en">
<head>

    <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <title>PAUL - How it works</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- mobile specific metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/main.css">

    <!-- script
    ================================================== -->
    <script src="js/modernizr.js"></script>

    <!-- favicons
    ================================================== -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

</head>

<body id="top">

    <!-- preloader
    ================================================== -->
    <!-- <div id="preloader">
        <div id="loader" class="dots-jump">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div> -->


    <!-- header
    ================================================== -->
    <header class="s-header">

        <div class="header-logo">
            <a class="site-logo" href="index.html">
                <img src="images/logo.svg" alt="Homepage">
            </a>
        </div>

        <nav class="header-nav-wrap">
            <ul class="header-nav">
                <li><a href="index.html" title="Home">Home</a></li>
                <li><a href="system.html" title="System">System</a></li>
                <li><a href="how-it-works.html" title="How it works">How it works</a></li>
                <li><a href="evaluation.html" title="Evaluation">Evaluation</a></li>
                <li><a href="budget.html" title="Services">Budget</a></li>
                <!--<li><a href="comments.html" title="Comments">Comments</a></li> -->
                <li class="current"><a href="team.html" title="About">Team</a></li>
                <li><a href="blogs.html" title="Services">Blogs</a></li>
            </ul>
        </nav>

        <a class="header-menu-toggle" href="#0"><span>Menu</span></a>

    </header> <!-- end s-header -->


    <!-- page header
    ================================================== -->
    <section class="page-header page-header--events">

        <div class="gradient-overlay"></div>
        <div class="row page-header__content">
            <div class="column">
                <h1>How PAUL works</h1>
            </div>
        </div>

    </section> <!-- end page-header -->


    <!-- page content
    ================================================== -->
    <section class="page-content">
        <div class="row add-bottom">

            <div class="column large-full">
                <h3 class = "display-1">How it works?</h3>
                    <p>
                        <strong>PAUL</strong> is the only one in the current UV disinfection robot market which achieves efficient automated disinfection of poles on public transport.
                          The robot will move up and down the pole, while its enclosed UV module emits a band of low wavelength ultraviolet radiation (UVC),
                          deactivating viruses brought by frequent touches.
                    </p>
                <h3 class = "display-1">SIMULATION</h3>
                    <p>
                      Due to restricted access to campus facilities and social distancing during the pandemic, we developed the prototype of PAUL primarily as a Webots Simulation.
                      <br>
                      Figure 1 shows the building blocks of the prototypical robot in Webots. The robot casing is designed to be an equilateral triangle, with one rubber wheel on each of the three sides, which then grip firmly onto the pole.
                      There are two distance sensors, one on the top and one on the bottom side, for detecting proximity of the simulated floor and ceiling, respectively.
                      The UV module is attached at the top of the robot as a circular ring closely surrounding the pole. An LED is attached on the inside of the ring, representing UV emission.
                      The top and bottom sides of the UV module were intentionally left open for viewers to directly see when the LED is turned on in the simulation –– the UV module should otherwise be completed sealed in manufacturing the physical robot.
                      <br><b>Figure 1 ... making the figure of PAUL with components labelled</b>
                      <br><br>
                      Figure 2 shows PAUL in a simplified simulation of the environment on a typical public transport vehicle.
                      <br><b>Figure 2 ... screenshot goes here</b>
                      <br><br>
                      The following Flowchart illustrates the controller process of the simulated robot conducting UV cleaning.
                      <center>
                          <figcaption>Flowchart for the Controller of our Webots Simulation</figcaption>
                          <img src="images/howItWorks/controller_flowchart.jpg" alt="Flowchart for Controller of our Webots Simulation">
                      </center>
                      <br>
                      PAUL is placed initially at the bottom of the cylindrical pole, 10cm away from the floor, with the UV LED turned off.
                      <br><b>Figure 3 ... a screenshot of PAUL at the start state</b>
                      <br><br>
                      When the simulation begins, motors connected to the three wheels are started simultaneously. Meanwhile, LED is turned on for disinfection, which is displayed as a bright purple light in Webots.
                      Currently, we set PAUL to travel at a speed of 0.22 rad/s to achieve comprehensive disinfection of Covid-19, based on our research. (The speed in the video is increased for the purpose of compact demonstration.)
                      <br><b>Figure 4 ... gif of PAUL going up with LED on</b>
                      <br><br>
                      The distance sensors are continuously checked and signify for a change of moving direction if the robot is 10cm within the ceiling/floor.
                      <br><b>Figure 5 ... a screenshot of ds detecting ceiling</b>
                      <br><br>
                      The robot would stop and rest for a preset time when one clean cycle has finished. Each clean cycle is composed of a set number of tours –
                      travelling from the bottom of the pole up to the top, then back to bottom is considered as one complete tour.
                      In the simulation, PAUL will clean the pole continuously if there is no interruption.

                    </p>
                <br>
                <h3 class = "display-1">THE PHYSICAL ROBOT</h3>
                    <strong>HARDWARE</strong>
                      <p>
                        We hoped to be able to present a fully working hardware version of PAUL at the industry day however we ran into some hardware issues close to the end of development. In the video below we will take you through the work we have put into PAUL and the hardware issues we faced.
                        <div class="video-container">
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/D9x7J-Jq_xw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                        <br><b>Layout</b><br>
                        The Hardware system consists of 3 main parts; the consumer’s box (1), the wire arm (2) and the pole climber’s casing (3).
                         <center>
                          <figcaption>Hardware System Layout</figcaption>
                          <img src="images/howItWorks/hardware_layout.jpg" alt="Flowchart for Controller of our Webots Simulation">
                        </center><br>

                        <br><b>Pole Climber</b><br>
                        The Hardware prototype was designed by us remotely using CAD modelling software and then a commissioned build was undertaken by the technicians. This build was completed shortly before the second demo. The case is built currently using Lego Technic pieces, kindly built by the technicians to replicate the dimensions specifications we sent using the CAD design. 
                        The environment for out Hardware prototype consists of a pole and a pole holder that we had to design and get printed to hold the pole upright.

                        The Pole climber (shown below) main parts are; three gear motors (1) that power the robot up and down the pole, three bump sensors (2) in charge of detecting interaction with external factors, three infrared sensors (3) to detect the ceiling and floor,and the UV module (4) which cleans the pole surface.
                        <center>
                          <figcaption>Pole Climber section of PAUL which ascends and descends the pole.</figcaption>
                          <img src="images/howItWorks/pole_climber.png" alt="Flowchart for Controller of our Webots Simulation">
                        </center><br>

                        <br><b>Consumer Box</b><br>
                        We installed all our components nicely inside the consumer box. In this arrangement they are easily accessible which allowed us to quickly switch out faulty components during testing. The wire arm wraps up all of the mentioned components into the Consumer Box (shown below), whose main parts are; a battery pack (1) that is the power source, motor/encoder boards (2/3) which handle the motors connections, a USB Hub (4) that links the power source to a USB Power bank (7), the Phidget Board (5) that receives the sensors readings and the RaspberryPi (6) which acts as a motherboard.
                        <center>
                          <figcaption>Consumer Box used to house the control components.</figcaption>
                          <img src="images/howItWorks/consumer_box.jpg" alt="Flowchart for Controller of our Webots Simulation">
                        </center><br>
                        <br><b>UV Light</b><br>
                        We also managed to successfully activate the LED remotely which you can see in the picture on the left and then we installed this LED inside the UV casing which you can see in the picture on the right. Note that in this picture it has been detached from the pole. In order to install the LED inside the UV casing we had to redesign the UV casing again and ask the technicians to print and install it.
                        <center>
                          <figcaption>LED light used to simulate the UV light</figcaption>
                          <img src="images/howItWorks/UV_light.jpg" alt="Flowchart for Controller of our Webots Simulation">
                        </center>
                        <br><b>Ongoing Issues</b><br>
                        The main issues we faced and the reasons why the hardware version of PAUL is not here today are as follows.
                        The wire arm we use to connect the consumer box to the pole climber puts too much pressure on one side of PAUL. This in turn leads to the UV casing being pulled against one side of the pole and PAUL is then unable to climb. We were unable to resolve this issue in time but if given the chance to do so in the future we would look to spread out the wire arm onto the 3 sides of the case so that equal pressure is applied to all sides. 
                        <br><br>
                        Ideally, we would not have this wire arm at all and given more time we would look to make our Hardware version more like our Webots version. 
                        We think our robot would work well with wireless charging which would remove the need for a large battery pack on the robot itself, we could place the charging pad for PAUL inside the consumer box which would keep it out of the way of passengers.
                        <br><br>
                        Another issue we repeatedly faced during testing is that the LEGO NXT motors we selected would stall on startup. Having individual motors stall at startup causes the robot to tilt to one side. This then causes the UV casing to be pulled against the pole and PAUL is then unable to climb. There are two possible solutions that we have seen to this issue: the first is to choose a new type of motor that is less prone to stalling and the second is to adjust the power on the other motors to compensate for the stalling motor. 
                        <br><br>
                        Working remotely with robots was a challenge and we are thankful for all the support the technicians gave us during this semester without them we wouldn't even have a hardware prototype.
                        If you’d like to find out more about our Hardware Prototype then we suggest checking out our user guide.

                      </p>
                <h3 class = "display-1">App</h3>
                <p>
                    The App is the main contact point between PAUL and the user. To provide the best user experience and allow the user to exploit all functionalities of our robot,
                    we tried to make the app as powerful, accessible and secure as possible.
                </p>
                <strong style="font-size:22pt;">Design</strong>
                <p>
                    The layout of the app consists of three fragments: Login, Control Panel and Setting.
                </p>
                <strong style="font-size:22pt;">Login</strong>
                <p>
                    The user must login successfully before controling PAUL. We use an 
                    <a href="https://www.sqlite.org/index.html" target="_blank"><U><strong>SQLite</strong></U></a>
                    database and store usernames with hashed passwords created using the
                    <a href="https://werkzeug.palletsprojects.com/en/1.0.x/" target="_blank"><U><strong>Werkzeug</strong></U></a>
                    python library using the <strong>SHA-256</strong> hashing algorithm. This allows the user to securely login
                    to to the control panel.
                    <br><br>
                    <img src="images/login.png" alt="Porter’s Five Forces Analysis" width="800" height="800">
                </p>
                <strong style="font-size:22pt;">Control Panel</strong>
                <p>
                    The user will use the Control Panel page to control the
                    deployed PAUL. The Control Panel consists of
                    an interactive object of a train which allows the user
                    to control PAUL interactively. It also has a feature to
                    control all robots at once which can be used for scheduled
                    cleaning.The Control panel has a pop-up settings
                    page where the user can customise both PAUL-bot settings
                    and different accessibility and aesthetic settings.
                    <br><br>
                    <img src="images/control.png" alt="Porter’s Five Forces Analysis" width="800" height="800">
                </p>
                <strong style="font-size:22pt;">Settings</strong>
                <p>
                    In the Settings page, the user can manipulate UV
                    light, Auto mode, time, and speed. The accessibility
                    section, allows the user to customise the Control
                    Panel to their liking. This includes a mixture of essential
                    accessibility features and aesthetics features like
                    High-Contrast Mode, Narrator, Vibration Feedback,
                    Light-Mode, and Magnifier.
                    <br><br>
                    <img src="images/setting.png" alt="Porter’s Five Forces Analysis" width="800" height="800">
                </p>
                <strong style="font-size:22pt;">Implementation</strong>
                <p>
                    The app is implemented using flask for its
                    easy-to-use capabilities. Flask allows us to scale our project
                    through different web services without dealing with
                    much of its own boiler-plates. We used JavaScript for any DOM
                    manipulation on the front-end side and used Python for
                    running any back-end scripts.
                
                </p>
                <strong style="font-size:22pt;">Connection between PAUL and App</strong>
                <p>
                    We wrote a script to establish an ssh connection between PAUL and the app. Everytime the user saves changes in the settings page, all changes are passed to the flask app from the html form.
                    The flask app then runs the controller script which first establishes an ssh connection with the Raspberry Pi of PAUL and then runs other scripts that change the state of PAUL.
                    <br><br>
                    For example, when the user selects <strong>"Auto-mode - ON"</strong> in settings, the controller script on the app would make PAUL move on the pole for the duration selected by the user in settings.
                    <br>
                    When the user selects <strong>"UV-mode - ON"</strong>, it would turn on the UV light on PAUL to start the santisation of the pole.
                    
                </p>
                <br><br>
                <h3 class = "display-1">Methods</h3>
                    <p> Initially, we looked to simulate a simple robot that's able to navigate poles.
                      Eventually, the simulation would develop to be robust and well-tested to allow for operation during train journeys.
                      A hardware model would also be developed. It was slightly behind and followed the progress seen in the simulation, as we had planned.
                      A web-based UI would be used to control the physical robot which will allow the user to activate and supervise the cleaning process of PAUL.
                    </p>
                    <strong>Development of Simulation</strong>
                      <p>
                          progress from demo 1-4

                      </p>
                    <strong>Development of the Physical Robot</strong>
                      <p>
                          progress from demo 1-4
                      </p>
                <br><br>

                <!--
                <h3 class = "display-1">Software Simulation</h3>
                    <p>
                        We use We-bots to achieve a simple simulation of the robot.
                    </p>
                    <p>
                        To simulate simple robot case, we implemented using a group object so that compound shapes can be defined and allowing easier implementation of physics.
                        This layout can be seen in Figure 1.
                        <br>
                        <center>
                            <img src="images/howItWorks/PAUL_Parts.png" alt="Layout of the Webots Simulation Implementation Parts." width="600" height="700">
                            <figcaption>Figure 1. Layout of the Webots Simulation Implementation Parts.</figcaption>
                        </center>
                    </p>
                    <p>
                        Two distance sensors were added using Shape objects and the Distance Sensor class, one on the top and one on the bottom to detect collisions.
                        The positioning of these sensors can be seen in Figure 2.
                        <br>
                        <center>
                            <img src="images/howItWorks/PAUL_Sensors.png" alt="Layout of the Webots Simulation Implementation Dis-tance Sensors." width="600" height="700">
                            <figcaption>Figure 2. Layout of the Webots Simulation Implementation Dis-tance Sensors.</figcaption>
                        </center>
                    </p>
                    <p>
                        To make sure the simulated robot moves smoothly at a designated and constant speed up/down the pole, we tested this by measuring the amount of time that the robot took to ascend/descend the pole with different speed parameters
                        <br>
                        <center>
                            <img src="images/howItWorks/third.gif" alt="Webots Simulation of the robot moving up and down the pole." width="600" height="700">
                            <figcaption>Figure 3. Webots Simulation of the robot moving up and down the pole.</figcaption>
                        </center>
                    </p>

                <h3 class = "display-1">Hardware</h3>
                    <p>
                        For our first prototype, we aim to offload the robots’ weight as much as it is possible, having a case with motors and wheels connected to the power supply with long cables, hence, avoiding unnecessary weight, focusing on lifting through a vertical pole a lightweight chassis.
                    </p>

                    <p>
                        The starting robot would be constructed from a LEGO case, allowing for an easier re-configuration should any changes be necessary for the future (such as adding thin plastic plates pegged directly to the LEGO or a 3D printed casing). For the motors the LEGO NXT will be used, having a rotation speed of 177rpm and a 16.7 N/cm (1.7 kg/cm) torque, should work fine with lifting the lightweight casing. Using a set of 8 AA batteries, with a capacity of 2700mAH each, should be sufficient for the first task.
                        Figure 4 demonstrates how we intend to set up the hardware of the robot. With the pole shown in the middle and the triangular robot case being used to hold the three wheels onto the pole.
                        <center>
                            <img src="images/howItWorks/hardware-diagram.png" alt="A sketch of the layout of the robot case and wheels." width="300" height="400">
                            <figcaption>Figure 4. A sketch of the layout of the robot case and wheels.</figcaption>
                        </center>
                        <center>
                            <img src="images/howItWorks/2dplans.png" alt= "2D Plans for the Hardware Implementation." width="600" height="700"">
                            <figcaption> Figure 5. 2D Plans for the Hardware Implementation.</figcaption>
                        </center>
                    </p>
                    <p>If the lightweight robot performs as expected, we would move to a more sophisticated configuration. Adding an accelerometer to get readings on the speed, range sensor to know when the robot has finished cleaning the whole pole and gyroscope to be aware of the orientation of the wheels, among others.</p>
                  -->
            </div>
        </div>

    </section> <!-- end page content -->
    
     <!-- footer
    ================================================== -->
    <footer class="s-footer">

        <div class="row footer-top">

        </div> <!-- end footer-top -->

        <div class="row footer-bottom">
            <div class="column ss-copyright">
                <span>© 2021 PAUL (Group 6)</span>
            </div>
        </div> <!-- footer-bottom -->

        <div class="ss-go-top">
            <a class="smoothscroll" title="Back to Top" href="#top">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0l8 9h-6v15h-4v-15h-6z"/></svg>
            </a>
        </div> <!-- ss-go-top -->

    </footer> <!-- end s-footer -->


    <!-- Java Script
    ================================================== -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>

</body>
